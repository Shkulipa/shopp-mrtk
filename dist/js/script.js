const catalog = [
  {
    id: "headphones",
    link: "", //если есть одностраничный сайт
    dataCategory: "Гаджеты",
    imgWebPrew: false,
    imgJpgPrew: "img/headphones/prev-headphones.jpg",
    descr:
      "Беспроводные наушники A6S<br><br>Наушники надежно держаться в ушах и даже во время бега, быстрой ходьбе или других занятий спортом они не выпадут, так как разработаны с учетом анатомии уха.<br><br>Благодаря функции шумоподавления, звук ясный и чистый.<br><br>Динамики с сильным басом приведут в восторг любого меломана. Эта модель наушников необычайно портативна. Её размеры всего 1,5 см х 2,7 см.<br><br>Зарядный бокс имеет размеры 6,2 см х 2,75 см.<br><br><ul><li>Имя устройства: A6S</li><li>Версия Bluetooth: 5.0</li><li>Чип Bluetooth: Jieli 6916A4</li><li>Водонепроницаемость IPX4</li><li>Размер драйвера: 8 мм</li><li>Время разговора: 2 часа</li><li>Время воспроизведения музыки: 8 часов</li><li>Время ожидания: 120 часов</li><li>Время зарядки: около 1 час</li><li>Емкость аккумулятора Charing: 280mA</li><li>Емкость батареи одного наушника: 45mA</li><li>Интерфейс зарядки: Micro USB</li><li>Вес одного наушника: 3.9g</li><li>Радиус действия: 10 метров</li></ul>",
    photos: ['headphones/headphones.jpg', 'headphones/headphones-1.jpg', 'headphones/headphones-2.jpg', 'headphones/headphones-3.jpg', 'headphones/headphones-5.jpg', 'headphones/headphones-6.jpg',],  
    sale: true,
    new: true,
    hit: true,
    discount: true,
    discountValue: 53,
    specialOffer: false,
    specialOfferValue: "1 + 1 = 3",
    title: "Беспроводные Наушники",
    namedProduct: "Беспроводные Наушники",
    dataId: "nx9p4u",
    count: 1,
    price: 349.0,
    totalPrice: 349.0,
    value: "UAH",
  },
  {
    id: "3d-pen",
    link: "", //если есть одностраничный сайт
    dataCategory: "Игрушки",
    imgWebPrew: false,
    imgJpgPrew: "img/3d-pen/prev-3d-pen.jpg",
    descr:
      "3д ручка (триде ручка) — необычное устройство письма, с помощью которого можно делать реалистичные трёхмерные, а так же двухмерные рисунки. Только представьте, что рисовать можно не по листу, а от листа – вверх! Сложно? Еще бы, ведь даже наше воображение не готово свыкнуться с такой смелой мыслью… но трехмерная ручка сломает любые стереотипы и окончательно изменит Ваше отношение к, казалось бы, привычным вещам!<br><br><b>Как же работает 3D Pen?</b> Вы вставляете сверху в ручку нить пластика, нажимаете кнопку рисования, и моторчик ее протягивает вниз в нагревательный носик, из которого расплавленный пластик и выходит наружу. И за 1-3 секунду застывает. Таким образом, можно рисовать конструкции абсолютно любых форм и размеров. Вам не потребуется подключение к компьютеру или какие-либо специальные навыки, достаточно немного фантазии!<br><br><b>Какими чернилами рисует 3D Pen?</b> Ручка рисует аналогичным пластиком, как и 3Д принтеры — ABS, а так же PLA. Пластик продается отдельно в виде нити (d=1,75 мм), и бывает более чем 50 разных цветов, в том числе и решения, светящиеся в темноте. Материал не имеет в своем составе вредных химических и фосфорирующих компонентов, а светится за счет безопасного люминофора, который «заряжается» от обычного света в помещении и «отдает» накопленный свет в течение 6-12 часов. В комплекте к каждой ручке поставляется три разных цвета.<br><br><b>На чем можно рисовать?</b> Подходит для использования на любой поверхности, главное предварительно защитить ее, чтобы она не испортилась от горячего носика ручки. Для этого будет достаточно положить несколько слоев бумаги, или просто журнал.<br><br><b>Комплектация:</b> <ul><li>оригинальная 3D Ручка</li><li>адаптер питания</li><li>сетевой переходник для адаптера питания;</li><li>комплект пластика</li><li>инструкция</li><li>подставка под ручку</li></ul><b>Комплектация:</b> <ul><li>LCD дисплей</li><li>непрерывная подача пластика</li><li>возможность регулировать температуру</li><li>возможность менять скорость подачи пластика</li><li>может рисовать ABS и PLA</li><li>быстрая подготовка к работе</li></ul>",
    photos: ['3d-pen/3d-pen-1.jpg', '3d-pen/3d-pen-2.jpg', '3d-pen/3d-pen-3.jpg', '3d-pen/3d-pen-4.jpg', '3d-pen/3d-pen-5.jpg', '3d-pen/3d-pen-6.jpg',],  
    sale: true,
    new: true,
    hit: true,
    discount: true,
    discountValue: 53,
    specialOffer: false,
    specialOfferValue: "1 + 1 = 3",
    title: "3D ручка",
    namedProduct: "3D ручка",
    dataId: "u6s2cx",
    count: 1,
    price: 379.0,
    totalPrice: 379.0,
    value: "UAH",
  },
  {
    id: "art-set",
    link: "", //если есть одностраничный сайт
    dataCategory: "Игрушки",
    imgWebPrew: false,
    imgJpgPrew: "img/art-set/prev-art-set.jpg",
    descr:
      "<b>Огромный набор для творчества</b> восхищенно примет каждый ребенок. По секрету говоря, даже взрослые обрадовались бы такому разнообразию материалов, если бы статус позволял. В набор входит все необходимое для рисования, и даже немного больше.<br><br>Карандаши, мелки, фломастеры, краски… А еще скрепки, степлер, точилки, ножнички и многое другое! Казалось бы, что еще нужно для полного счастья? Правильно – удобный чемоданчик для хранения. Отличный повод научит маленького художника прибирать за собой после игр. И, конечно, с таким разнообразием материала ребенок будет развиваться быстро и с интересом.<br><br>Всего в набор входит <b>150 разных предметов</b>, продается он в подарочной упаковке. Хотите увидеть самую искреннюю из всех детских улыбок? Подарите ему огромный набор для творчества. Кстати, вы тоже сможете пользоваться им, пока никто не видит! <br><br>Комплект:<br><ol><li>Маркеры - 36 шт</li><li>Восковые карандаши - 24 шт.</li><li>Масляная пастель - 24 шт.</li><li>Цветные карандаши - 24 шт.</li><li>Набор скрепок</li><li>Акварель - 12 шт.</li><li>Кисточка</li><li>Палитра</li><li>Мини степлер</li><li>Ножницы</li><li>Точилка</li><li>Белая краска</li><li>Клей</li><li>Линейка</li><li>Ластик</li><li>Карандаш</li><li>Папка-кейс</li></ol>",
    photos: ['art-set/art-set-1.jpg', 'art-set/art-set-2.jpg', 'art-set/art-set-3.jpg', 'art-set/art-set-4.jpg', 'art-set/art-set-5.jpg', 'art-set/art-set-6.jpg', 'art-set/art-set-7.jpg'],  
    sale: true,
    new: true,
    hit: true,
    discount: true,
    discountValue: 53,
    specialOffer: false,
    specialOfferValue: "1 + 1 = 3",
    title: "Огромный набор для творчества",
    namedProduct: "Огромный набор для творчества",
    dataId: "rjx9z6",
    count: 1,
    price: 322.0,
    totalPrice: 322.0,
    value: "UAH",
  },
  {
    id: "car-transformet",
    link: "https://kids-toys.shopping-market.space/",
    dataCategory: "Игрушки",
    imgWebPrew: "img/prew-car-transformer.webp",
    imgJpgPrew: "img/prew-car-transformer.jpg",
    descr:
      "Отличия этого от других трансформеров это возможность с помощью взмаха руки превратить авто в трансформер и наоборот это действительно очень круто.<br /> Возможности трансформера: <ul><li>Робот трансформируется в автомобиль и обратно при помощи одной кнопки на пульте ДУ или превращается втрансформер при приближении руки.</li><li>Управляется пультом и ездит как в виде машинки, так и в виде трансформера.</li><li>Поворачивает на 360 градусов.</li><li>Световые эффекты (фары загораются при изменении состояния и езде в разных направлениях: вперед, назад, влево, вправо).</li><li>Звуковые эффекты и музыка.</li></ul>",
    photos: ['car-transformer/car-transformer-1.jpg', 'car-transformer/car-transformer-2.jpg', 'car-transformer/car-transformer-3.jpg', 'car-transformer/car-transformer-4.jpg'],  
    sale: true,
    new: true,
    hit: true,
    discount: true,
    discountValue: 53,
    specialOffer: false,
    specialOfferValue: "1 + 1 = 3",
    title: "Машинка трансформер на радиоуправлении",
    namedProduct: "Машинка трансформер на радиоуправлении",
    dataId: "gAV4BF",
    count: 1,
    price: 399.0,
    totalPrice: 399.0,
    value: "UAH",
  },
  {
    id: "Nabor-sveta",
    link: "https://svet.shopping-market.space/",
    dataCategory: "Игрушки",
    imgWebPrew: "img/prew-svet.webp",
    imgJpgPrew: "img/prew-svet.jpg",
    descr:
      "Набор для рисования Рисуй светом станет любим подарком для маленьких художников. Он порадует своими световыми возможностями, потому что рисовать в темноте светящуюся картину будет интересно не только самым маленьким. Этот планшет - уникальный. Он надолго увлечет вашего ребенка. Ручка, которая светится в темноте будет служить волшебной палочкой. А ваш ребенок превратится в настоящего волшебника.Проявите свое настроение вместе с ребенком на светящемся планшете с картона размером: А3, A4, A5.<br/><br/>Набор для рисования Рисуй светом А3, A4, A5 - это фотолюминисцентный ПВХ в рамочке. Он поглощает свет от лампы или от солнца. За счет этого продолжительное время светится в темноте.<br/><br/>Подарите своему ребенку радость. Пусть он станет волшебником, который умеет творить картины в темноте.",
    photos: ['draw-svetom/draw-svetom-1.jpg', 'draw-svetom/draw-svetom-2.jpg', 'draw-svetom/draw-svetom-3.jpg', 'draw-svetom/draw-svetom-4.jpg', 'draw-svetom/draw-svetom-5.jpg', 'draw-svetom/draw-svetom-6.jpg'],  
    sale: true,
    new: true,
    hit: true,
    discount: true,
    discountValue: 53,
    specialOffer: false,
    specialOfferValue: "1 + 1 = 3",
    title: "Набор для рисования светом",
    namedProduct: "Набор для рисования светом",
    dataId: "A2nV4M",
    count: 1,
    price: 199.0,
    totalPrice: 199.0,
    value: "UAH",
  },
  {
    id: "magic-back",
    link: "", //если есть одностраничный сайт
    dataCategory: "Товары-для-спорта-здоровья-и-красоты",
    imgWebPrew: false,
    imgJpgPrew: "img/magic-back/prev-back-magic.jpg",
    descr:
      "Тренажер для спины будет всегда заботиться о вас. Он разработан таким образом, чтобы осуществлять безопасную и легкую растяжку позвоночника, совмещая с массажем спинных мышц. Имеет 3 уровня фиксации, которые подбираются исходя из ваших индивидуальных способностей, возможностей и предпочтений. Неподготовленному человеку, у которого имеются те или иные проблемы со спиной и поясницей рекомендуется начинать использование с первого, самого щадящего уровня. Это простой и пассивный способ, который позволит мягко растянуть всю спину, помогая устранить источник боли в спине и восстановить естественную кривизну позвоночного столба. Далее, по мере использования, вы почувствуете, что сможете использовать и другие уровни....<br><br>Характеристики:<br><ul><li>Тип массажера: массажная подставка</li><li>Цвет: черный</li><li>Вес: 0.6 кг</li><li>Область приминения: для спины и поясницы</li><li>Комплектация: Жесткая база - 1 шт., гибкая опорная-планка с массажными элементами для спины - 1шт.</li></ul>",
    photos: ['magic-back/magic-back-1.jpeg', 'magic-back/magic-back-2.jpeg', 'magic-back/magic-back-3.jpeg', 'magic-back/magic-back-4.jpeg'],  
    sale: true,
    new: true,
    hit: true,
    discount: true,
    discountValue: 53,
    specialOffer: false,
    specialOfferValue: "1 + 1 = 3",
    title: "Массажер для спины Magic Back",
    namedProduct: "Массажер для спины Magic Back",
    dataId: "d8eKgg",
    count: 1,
    price: 249.0,
    totalPrice: 249.0,
    value: "UAH",
  },
  {
    id: "talking-hamster",
    link: "",
    dataCategory: "Игрушки",
    imgWebPrew: "img/prew-talking-hamster.webp",
    imgJpgPrew: "img/prew-talking-hamster.jpg",
    descr:
      "ГОВОРЯЩИЙ ХОМЯК — Отличная идея для подарка детям на Рождество и Новый год. Это приносит бесконечную радость вам, вашей семье и друзьям!<br/><br/>Это весело  и  развлекаясь  ГОВОРЯЩИЙ ХОМЯК будет повторять все , что он слышит, а затем ПОВТОРЯТЬ  дерзким высоким голосом , который гарантированно подарит вам море смеха!<br/><br/>Повторяет все, что вы сказали:  функция разговора позволяет хомяку повторять все, что вы говорите, независимо от того, смеетесь ли вы, поете или говорите на каких-либо языках. Может имитировать женский и мужской голос.<br/><br/><ul><li>Имитирует как женские, так и мужские голоса.</li><li>Повторяет то, что вы говорите своим собственным голосом твари.</li><li>Ваш веселый веселый собеседник.</li></ul>",
    photos: ['talking-hamster/hamster-1.jpg', 'talking-hamster/hamster-2.jpg', 'talking-hamster/hamster-3.jpg', 'talking-hamster/hamster-4.jpg'],  
    sale: true,
    new: true,
    hit: true,
    discount: true,
    discountValue: 53,
    specialOffer: false,
    specialOfferValue: "1 + 1 = 3",
    title: "Говорящий хомячок",
    namedProduct: "Говорящий хомячок",
    dataId: "FV87bX",
    count: 1,
    price: 249.0,
    totalPrice: 249.0,
    value: "UAH",
  },
  {
    id: "fairy",
    link: "https://fairy.shopping-market.space/",
    dataCategory: "Игрушки",
    imgWebPrew: "img/prew-fairy.webp",
    imgJpgPrew: "img/prew-fairy.jpg",
    descr:
      "Летающие Феи – отличный подарок для маленькой мечтательницы. Кукла, словно по волшебству, взмывает в небо, открывая простор детской фантазии. Она держит дистанцию от любой поверхности (от пола, ладони). Волшебная фея имеет встроенный моторчик и цветные пропеллеры, которые являются частью наряда сказочного персонажа. А еще – сенсорные датчики, которые контролируют наличие вблизи предметов и держат полет игрушки на определенном расстоянии от них. Управлять же ею можно, поднеся снизу ладошку: датчик сработает на наличие предметаи куколка поднимется выше. Выше ладошка – выше полет, опуская же ладонь можно уменьшать и высоту полета волшебной феи.Никакого радиоуправления, сложных приспособлений или дополнительных условий — только ловкость и быстрота движенийпомогут фее оставаться в воздухе. Закажите фею Flying Fairy прямо сейчас и порадуйсте свою маленькую мечтательницу!Преимущества: Волшебный полет - Единственная фея в мире,которая действительно летает. Благодаря уникальной технологии,Фея держитдистанцию от любых поверхностей, и дети могут легко управлять Феей своимиладошками; Красивая упаковка - феяпродаётся в красивомдомике-коробке, что избавит мам, пап, бабушек и дедушек от поиска подарочнойупаковки и сразупривлечёт внимание ребёнка; Сказочный дизайн - мир сказочных героевстановится ближе с этими красавицами. Яркиекостюмы, полупрозрачные крылья, атакже профессиональное исполнение всех частей тела, черт лица,обеспечиваютмаксимальную реалистичность игры; Характеристики: Время полета: 6-8 минут; Время зарядки : 25-30 минут;Высота куклы: 18 см; Материал: мягкий, ударопрочный пластик; в комплекте(кукла - 1 шт USB-зарядное устройство - 1 штзапасные лопасти - 1 шт); Вес: 340 г",
    photos: ['product-fairy/fairy-1.jpg', 'product-fairy/fairy-2.jpg', 'product-fairy/fairy-3.jpg', 'product-fairy/fairy-4.jpg'],  
    sale: true,
    new: true,
    hit: true,
    discount: true,
    discountValue: 53,
    specialOffer: false,
    specialOfferValue: "1 + 1 = 3",
    title: "Летающая фея",
    namedProduct: "Летающая фея",
    dataId: "5kT4Ta",
    count: 1,
    price: 249.0,
    totalPrice: 249.0,
    value: "UAH",
  },
  {
    id: "nakolennik",
    link: "", //если есть одностраничный сайт
    dataCategory: "Товары-для-спорта-здоровья-и-красоты",
    imgWebPrew: false,
    imgJpgPrew: "img/nakolennik/prev-nakolennik.jpg",
    descr:
      "Спортивный наколенник KNEE SUPPORT предназначен для защиты коленного сустава от травм и растяжений во время занятий спортом или активного отдыха.<br><br>Фиксатор для колена оказывает умеренную фиксацию и стабилизацию коленного сустава, что уменьшает риск его травмирования во время активных движений или больших нагрузок. Эластичный материал, из которого изготовлен компрессионный наколенник, прекрасно пропускает воздух, позволяет коже «дышать» и чувствовать себя комфортно.<br><br>Размер в наличии: XL (45-50 см).<br><br>Характеристики:<ul><li>Материал: нейлон, спандекс</li><li>Размеры (в нерастянутом виде): 20х27х0,5 см</li><li>Цвет: серый с зеленым</li><li>Вес: 100 г.</li></ul>",
    photos: ['nakolennik/nakolennik-1.png', 'nakolennik/nakolennik-2.jpg', 'nakolennik/nakolennik-3.jpg',],  
    sale: true,
    new: true,
    hit: true,
    discount: true,
    discountValue: 53,
    specialOffer: false,
    specialOfferValue: "1 + 1 = 3",
    title: "Бандаж для коленного сустава",
    namedProduct: "Бандаж для коленного сустава",
    dataId: "4k4gjs",
    count: 1,
    price: 199.0,
    totalPrice: 199.0,
    value: "UAH",
  },
  {
    id: "shalash",
    link: "", //если есть одностраничный сайт
    dataCategory: "Игрушки",
    imgWebPrew: false,
    imgJpgPrew: "img/shalash/prev-shalash.jpg",
    descr:
      "Настоящий игровой шатер, в котором дети могут почувствовать себя настоящими принцами и принцессами. Яркие и просторные игровые палатки в виде маленького замка станут любимым местом для игр вашего ребенка, ведь он сможет брать его с собой.<br><br>Размеры:<br><br>- диаметр - 105 см<br><br>- высота - 135 см<br><br><br><br>Возможно это благодаря материалам высокого качества, из которых изготовлена представленная игровая палатка. Материал устойчив к воздействию влаги и ультрафиолетовых лучей, а значит палатку можно устанавливать не только дома, но и на улице, к примеру, в саду или при выезде на пикник.<br><br>Вход в палатку закрывается с помощью липучек, а по бокам расположены окна с мелкой сеткой. Собирать и разбирать палатку очень легко и весь процесс занимает минимум времени.",
    photos: ['shalash/shalash-1.jpg', 'shalash/shalash-2.jpg', 'shalash/shalash-3.jpg', 'shalash/shalash-4.jpg', 'shalash/shalash-5.jpg'],  
    sale: true,
    new: true,
    hit: true,
    discount: true,
    discountValue: 53,
    specialOffer: false,
    specialOfferValue: "1 + 1 = 3",
    title: "Детская палатка",
    namedProduct: "Детская палатка",
    dataId: "q9rrd5",
    count: 1,
    price: 449.0,
    totalPrice: 449.0,
    value: "UAH",
  },
  {
    id: "magic-track",
    link: "https://magic-tracks.shopping-market.space",
    dataCategory: "Игрушки",
    imgWebPrew: "img/prew-magic-track.webp",
    imgJpgPrew: "img/prew-magic-track.jpg",
    descr:
      "Готовы ли Вы к настоящей гонке?<br><br>Представляем вам Волшебную трассу Magic Tracks — потрясающий гоночный трек, который принимает любую форму и светится в темноте!<br><br>Светящийся Magic Tracks является совершенно новым и необычным гоночным треком. Такого изгиба гоночной дороги и необыкновенного свечения в темноте Вы никогда не видели! Вы можете изогнуть трассу на 360˚<br><br>Просто соедините кусочки Трассы вместе, и Вы получите полностью настроенную трассу своего собственного творения. А еще лучше, когда вы выключаете свет и погружаетесь в магию Magic Tracks!<br><br>ПРЕИМУЩЕСТВА:<ul><li>Легко собрать собственную трассу за считанные секунды</li><li>Быстро сворачивается для хранения</li><li>Все детали набора сделаны из экологически безопасного прочного пластика</li><li>Машинка красного цвета с пятью светодиодными огнями.</li><li>Набор наклеек.</li><li>Гоночный трек светится в темноте.</li><li>Гибкая трасса — ей можно придать любую форм</li></ul>",
    photos: ['magic-track/magic-track-1.jpg', 'magic-track/magic-track-2.jpg', 'magic-track/magic-track-3.jpg', 'magic-track/magic-track-4.jpg'],  
    sale: true,
    new: true,
    hit: true,
    discount: true,
    discountValue: 53,
    specialOffer: false,
    specialOfferValue: "1 + 1 = 3",
    title: "Светящееся машинки с трассой",
    namedProduct: "Светящееся машинки с трассой",
    dataId: "5kT4Tb",
    count: 1,
    price: 349.0,
    totalPrice: 349.0,
    value: "UAH",
  },
  {
    id: "ice-scrapper",
    link: "https://ice-scrapper.shopping-market.space",
    dataCategory: "Автотовары",
    imgWebPrew: "img/prew-ice-scrapper.webp",
    imgJpgPrew: "img/prew-ice-scrapper.jpg",
    descr:
      "Конус - скребок для очистки стекла автомобиля от снега и льда<br><br>Конусообразный скребок для удаления льда и снега очистит стекла Вашего автомобиля намного быстрее, чем привычный всем традиционный скребок. Данный скребок сделан из пластика, очень легкий, его удобно держать в руке и он не царапает стекло! Для удаления снега достаточно водить круговыми движениями широкой частью скребка по стеклу.  Вторая сторона скребка, меньшего диаметра, может быть использована как ледокол. И приятный бонус - скребок можно использовать как воронку, например, чтобы добавлять жидкость для омывателя в Ваш автомобиль.<br><br>Размер: большой конус - диаметр 15 см, высота 15 см; маленький конус - диаметр 7 см, высота 5 см<br><br>Материал: АБС-пластик",
    photos: ['ice-scrapper/ice-scrapper-1.jpg', 'ice-scrapper/ice-scrapper-2.jpg', 'ice-scrapper/ice-scrapper-3.jpg'],  
    sale: true,
    new: true,
    hit: true,
    discount: true,
    discountValue: 53,
    specialOffer: false,
    specialOfferValue: "1 + 1 = 3",
    title: "Cкребок для автомобиля",
    namedProduct: "Cкребок для автомобиля",
    dataId: "5kT4Tq",
    count: 1,
    price: 199.0,
    totalPrice: 199.0,
    value: "UAH",
  },
  {
    id: "set-of-weapons",
    link: "",
    dataCategory: "Игрушки",
    imgWebPrew: "img/prew-set-of-weapons.webp",
    imgJpgPrew: "img/prew-set-of-weapons.jpg",
    descr:
      "Игрушечный набор оружия из игры PUBG.<br><br>В наборе есть:<br><ul><li>РПГ</li><li>М24</li><li>Ножик</li><li>Магазин</li><li>Сковородка</li><li>3 стрели</li><li>3 снаряда</li><li>40 патронов</li><li>20 пулек</li></ul>",
    photos: ['set-of-weapons/set-of-weapons-1.jpg', 'set-of-weapons/set-of-weapons-2.jpg', 'set-of-weapons/set-of-weapons-3.jpg', 'set-of-weapons/set-of-weapons-4.jpg', 'set-of-weapons/set-of-weapons-5.jpg', 'set-of-weapons/set-of-weapons-6.jpg',],  
    sale: true,
    new: false,
    hit: false,
    discount: true,
    discountValue: 53,
    specialOffer: false,
    specialOfferValue: "1 + 1 = 3",
    title: "Игрушечный набор оружия из Pubg",
    namedProduct: "Игрушечный набор оружия из Pubg",
    dataId: "CEw4n3",
    count: 1,
    price: 549.0,
    totalPrice: 549.0,
    value: "UAH",
  },
  // {
  //   id: "clothes-shaver",
  //   link: "https://clothes-shaver.shopping-market.space",
  //   dataCategory: "Товары-для-дома",
  //   imgJpgPrew: "img/prew-clothes-shaver.jpg",
  //   sale: true,
  //   new: true,
  //   hit: true,
  //   discount: true,
  //   discountValue: "-35%",
  //   specialOffer: false,
  //   specialOfferValue: "1 + 1 = 3",
  //   title: "Средство для удаления кашлатости",
  //   namedProduct: "Clothes shaver",
  //   dataId: "bF7s4A",
  //   count: 1,
  //   price: 199.0,
  //   totalPrice: 199.0,
  //   value: "UAH",
  // },
  // {
  //   id: "socks",
  //   link: "https://socks.shopping-market.space",
  //   dataCategory: "Женская-одежда",
  //   imgJpgPrew: "img/prew-socks.jpg",
  //   sale: true,
  //   new: true,
  //   hit: true,
  //   discount: true,
  //   discountValue: "-54%",
  //   specialOffer: true,
  //   specialOfferValue: "1 + 1 = 3",
  //   title: "Силиконовые увлажняющие носочки против трения стопы с супинатором!",
  //   namedProduct: "Silicon socks",
  //   dataId: "YAooUP",
  //   count: 1,
  //   price: 149.0,
  //   totalPrice: 149.0,
  //   value: "UAH",
  // },
  // {
  //   id: "hot-shapers",
  //   link: "https://slimming-belt.shopping-market.space",
  //   dataCategory: "Товары-для-спорта-здоровья-и-красоты",
  //   imgJpgPrew: "img/prew-hot-shapers.jpg",
  //   sale: true,
  //   new: true,
  //   hit: true,
  //   discount: true,
  //   discountValue: "-50%",
  //   specialOffer: false,
  //   specialOfferValue: "1 + 1 = 3",
  //   title: "Hot Shapers - Пояс для похудения и коррекции фигуры",
  //   namedProduct: "hot-shapers",
  //   dataId: "7eW7KS",
  //   count: 1,
  //   price: 199.0,
  //   totalPrice: 199.0,
  //   value: "UAH",
  // },
  // {
  //   id: "Spine",
  //   link: "https://posture-corrector.shopping-market.space",
  //   dataCategory: "Товары-для-спорта-здоровья-и-красоты",
  //   imgJpgPrew: "img/prew-corector-osanki.jpg",
  //   sale: true,
  //   new: true,
  //   hit: true,
  //   discount: true,
  //   discountValue: "-72%",
  //   specialOffer: false,
  //   specialOfferValue: "1 + 1 = 3",
  //   title: "Spine - Магнитный корректор осанки. Быстрое исправление осанки",
  //   namedProduct: "Spine",
  //   dataId: "nBCPzS",
  //   count: 1,
  //   price: 249.0,
  //   totalPrice: 249.0,
  //   value: "UAH",
  // },
  // {
  //   id: "magnetfix",
  //   link: "https://magnet-fix.shopping-market.space",
  //   dataCategory: "Товары-для-спорта-здоровья-и-красоты",
  //   imgJpgPrew: "img/prew-magnet-fix.jpg",
  //   sale: true,
  //   new: true,
  //   hit: true,
  //   discount: true,
  //   discountValue: "-50%",
  //   specialOffer: false,
  //   specialOfferValue: "1 + 1 = 3",
  //   title: "MagnetFix - Помогает избавиться от вальгусной деформации",
  //   namedProduct: "magnetfix",
  //   dataId: "a7M0K9",
  //   count: 1,
  //   price: 249.0,
  //   totalPrice: 249.0,
  //   value: "UAH",
  // },
  // {
  //   id: "magic-wash",
  //   link: "https://washing-capsules.shopping-market.space",
  //   dataCategory: "Товары-для-дома",
  //   imgJpgPrew: "img/prew-magic-wash.jpg",
  //   sale: true,
  //   new: true,
  //   hit: true,
  //   discount: true,
  //   discountValue: "-54%",
  //   specialOffer: false,
  //   specialOfferValue: "1 + 1 = 3",
  //   title: "Чистящее средство для вашей стиральной машинки!",
  //   namedProduct: "magic-wash",
  //   dataId: "fDSuj3",
  //   count: 1,
  //   price: 360.0,
  //   totalPrice: 360.0,
  //   value: "UAH",
  // },
  // {
  //   id: "sani-sticks",
  //   link: "https://sani-sticks.shopping-market.space",
  //   dataCategory: "Чистящие-средства",
  //   imgJpgPrew: "img/prew-sani-sticks.jpg",
  //   sale: true,
  //   new: true,
  //   hit: true,
  //   discount: true,
  //   discountValue: "-50%",
  //   specialOffer: false,
  //   specialOfferValue: "1 + 1 = 3",
  //   title: "Палочки от засоров. Чистота водопроводных труб от засоров и запахов на целый год!",
  //   namedProduct: "sani-sticks",
  //   dataId: "Rdne7b",
  //   count: 1,
  //   price: 240.0,
  //   totalPrice: 240.0,
  //   value: "UAH",
  // },
  // {
  //   id: "fly-bra",
  //   link: "https://fly-bra.shopping-market.space",
  //   dataCategory: "Женская-одежда",
  //   imgJpgPrew: "img/prew-fly-bra.jpg",
  //   sale: true,
  //   new: false,
  //   hit: false,
  //   discount: true,
  //   discountValue: "-54%",
  //   specialOffer: false,
  //   specialOfferValue: "1 + 1 = 3",
  //   title: "Бюсгальтер-невидимка для идеального декольте",
  //   namedProduct: "fly-bra",
  //   dataId: "GOeC1c",
  //   count: 1,
  //   price: 199.0,
  //   totalPrice: 199.0,
  //   value: "UAH",
  // },
  // {
  //   id: "elaslim",
  //   link: "https://elaslim.shopping-market.space",
  //   dataCategory: "Женская-одежда",
  //   imgJpgPrew: "img/prew-elaslim.jpg",
  //   sale: true,
  //   new: false,
  //   hit: false,
  //   discount: true,
  //   discountValue: "-54%",
  //   specialOffer: true,
  //   specialOfferValue: "1 + 1 = 3",
  //   title: "Революционные нервущиеся колготки!",
  //   namedProduct: "elaslim",
  //   dataId: "N72uEg",
  //   count: 1,
  //   price: 149.0,
  //   totalPrice: 149.0,
  //   value: "UAH",
  // },
  // {
  //   id: "easy-mop",
  //   link: "https://easy-mop.shopping-market.space",
  //   dataCategory: "Товары-для-дома",
  //   imgJpgPrew: "img/prew-easy-mop.jpg",
  //   sale: true,
  //   new: false,
  //   hit: false,
  //   discount: true,
  //   discountValue: "-53%",
  //   specialOffer: false,
  //   specialOfferValue: "1 + 1 = 3",
  //   title: "Easy Mop – простое решение всех проблем с уборкой пола",
  //   namedProduct: "easy-mop",
  //   dataId: "0Y9wxd",
  //   count: 1,
  //   price: 299.0,
  //   totalPrice: 299.0,
  //   value: "UAH",
  // },
  // {
  //   id: "wild-tornado",
  //   link: "https://wild-tornado.shopping-market.space",
  //   dataCategory: "Чистящие-средства",
  //   imgJpgPrew: "img/prew-wild-tornado.jpg",
  //   sale: true,
  //   new: false,
  //   hit: false,
  //   discount: true,
  //   discountValue: "-53%",
  //   specialOffer: false,
  //   specialOfferValue: "1 + 1 = 3",
  //   title: "Универсальное чистящее средство. Больше никаких засоров!",
  //   namedProduct: "wild-tornado",
  //   dataId: "kMkddn",
  //   count: 1,
  //   price: 249.0,
  //   totalPrice: 249.0,
  //   value: "UAH",
  // },
  // {
  //   id: "handy-heater",
  //   link: "https://handy-heater.shopping-market.space",
  //   dataCategory: "Товары-для-дома",
  //   imgJpgPrew: "img/prew-handy-heater.jpg",
  //   sale: true,
  //   new: false,
  //   hit: false,
  //   discount: true,
  //   discountValue: "-54%",
  //   specialOffer: false,
  //   specialOfferValue: "1 + 1 = 3",
  //   title: "Мощный портативный обогреватель",
  //   namedProduct: "handy-heater",
  //   dataId: "0LKsKL",
  //   count: 1,
  //   price: 349.0,
  //   totalPrice: 349.0,
  //   value: "UAH",
  // },
  // {
  //   id: "led-lampa",
  //   link: "https://led-lampa.shopping-market.space",
  //   dataCategory: "Товары-для-спорта-здоровья-и-красоты",
  //   imgJpgPrew: "img/prew-led-lampa.jpg",
  //   sale: true,
  //   new: true,
  //   hit: true,
  //   discount: true,
  //   discountValue: "-50%",
  //   specialOffer: false,
  //   specialOfferValue: "1 + 1 = 3",
  //   title: "Led lampa - Светодиодный светильник для селфи",
  //   namedProduct: "led-lampa",
  //   dataId: "mad2CL",
  //   count: 1,
  //   price: 360.0,
  //   totalPrice: 360.0,
  //   value: "UAH",
  // },
];

// Global cariables
// cart
let cart = [];

// Переобразуем массив "catalog" в Ассоциативный массив
let catalogAssArr = {};
function catalogAssArrFunction() {
  let catalogAssArr = {};
  catalog.forEach(function (e) {
    catalogAssArr[e.id] = e;
  });
  return catalogAssArr;
}
catalogAssArrFunction();

let outCatalog = '';
for(let key in catalog) {
  outCatalog += `<div  class="catalog__items__item" target="_blank" data-category=${catalog[key].dataCategory} data-idDescr=${catalog[key].dataId}>`;
  outCatalog += `<div target="_blank" class="catalog__items__item__img" data-idDescr=${catalog[key].dataId}>`;
  outCatalog +=
    `<img src="${catalog[key].imgJpgPrew}" alt="img" data-idDescr=${catalog[key].dataId}>`;
  outCatalog +=
    `<div class="catalog__items__item__img__tags" data-idDescr=${catalog[key].dataId}>` +
    `${
      catalog[key].sale === true
        ? `<div class="catalog__items__item__img__tags__block sale" data-idDescr=${catalog[key].dataId}>#Распродажа</div><br />`
        : ''
    }` +
    `${
      catalog[key].new === true
        ? `<div class="catalog__items__item__img__tags__block new" data-idDescr=${catalog[key].dataId}>#Новинка</div><br />`
        : ''
    }` +
    `${
      catalog[key].hit === true
        ? `<div class="catalog__items__item__img__tags__block hit" data-idDescr=${catalog[key].dataId}>#Хит</div><br />`
        : ''
    }` +
    `${
      catalog[key].discount === true
        ? `<div class="catalog__items__item__img__tags__block discount" data-idDescr=${catalog[key].dataId}>-${catalog[key].discountValue}%</div><br />`
        : ''
    }` +
    `${
      catalog[key].specialOffer === true
        ? `<div class="catalog__items__item__img__tags__block special-offer" data-idDescr=${catalog[key].dataId}>` + catalog[key].specialOfferValue + '</div><br />'
        : ''
    }</div></div>`; 
    outCatalog +=
    `<div class="catalog__items__item__content" data-idDescr=${catalog[key].dataId}>` +
    `<div class="catalog__items__item__content__title" data-idDescr=${catalog[key].dataId}>${catalog[key].title}</div>`;
    outCatalog += `<button id="add-to-cart" class="catalog__items__item__content__cart" data-id=${catalog[key].dataId}>` + 
                  `<img id="add-to-cart" src="icons/shopping-cart.svg" alt="img" data-id=${catalog[key].dataId}>` +
                  `<p id="add-to-cart" class="catalog__items__item__content__cart__text" data-id=${catalog[key].dataId}>Добавить в корзину</p></button></div></div>`;
};
document.getElementById('catalog__items').innerHTML = outCatalog;


$(".catalog__items > .catalog__items__item")
  .clone()
  .unwrap()
  .appendTo($(".bestsellers__slider").empty());
$(".bestsellers__slider > .catalog__items__item").each(function () {
  if ($(this).find(".hit").length == 0) {
    $(this).remove();
  }
});
  
$(document).ready(function () {
  // проверяем какой урл и высвечиваем модульное окно
  if(location.hash.includes('#product/title=') || location.hash.includes('product/title=')) {
    const stringUrlArr = location.hash.split('=');
    const findelFromCatalog = catalog.find(e => e.id === stringUrlArr[1]);

    location.hash = "product/title=" + findelFromCatalog.id;

    let infoProductSliderPhotos = '';
    for (let i = 0; i < findelFromCatalog.photos.length; i++) {
      infoProductSliderPhotos +=  `<div><img src="img/${findelFromCatalog.photos[i]}" alt="img"></div>`;
    };


    document.getElementById("modal-info__content").innerHTML = `<div class="modal-info__descr-main">
      <div class="modal-info__descr-main__images-slider">
        <div class="info-product-slider-for">
          ${infoProductSliderPhotos}
        </div>
        <div class="info-product-slider-nav">
          ${infoProductSliderPhotos}
        </div>
      </div>
      <div class="modal-info__descr-main__descr">
        <div class="modal-info__descr-main__descr__title">${findelFromCatalog.title}</div>
        <div class="modal-info__descr-main__descr__old-price">Цена без скидки: <span>${Math.round((findelFromCatalog.price * 100) / findelFromCatalog.discountValue)} грн.</span></div>
        <div class="modal-info__descr-main__descr__new-price">Цена со скидкой: <span>${findelFromCatalog.price} грн.</span></div>
        ${findelFromCatalog.link ? `<div class="modal-info__descr-main__descr__website">Сайт с подробной информацией: <a href="${findelFromCatalog.link}" target="_blank">${findelFromCatalog.link}</a></div>` : ''}
        <div class="modal-info__descr-main__descr__descr"><u>Описание:</u> ${findelFromCatalog.descr}</div>

        <button class="modal-info__btn" data-id=${findelFromCatalog.dataId}>
          <img id="add-to-cart" src="${cart.findIndex(e => findelFromCatalog.dataId === e.dataId) > -1 ? "icons/shopping-cart-added.svg" : "icons/shopping-cart.svg"}" alt="img" data-id=${findelFromCatalog.dataId}>
          <p class="modal-info__btn__text" data-id=${findelFromCatalog.dataId}>${cart.findIndex(e => findelFromCatalog.dataId === e.dataId) > -1 ? 'Удалить с корзины' : 'Добавить в корзину'}</p>
        </button>
      </div>
    </div>`;

    // slider for info about product
    $('.info-product-slider-for').slick({
      slidesToShow: 1,
      slidesToScroll: 1,
      arrows: false,
      fade: true,
      asNavFor: '.info-product-slider-nav'
    });
    $('.info-product-slider-nav').slick({
      slidesToShow: 3,
      slidesToScroll: 1,
      asNavFor: '.info-product-slider-for',
      arrows: false,
      dots: false,
      centerMode: true,
      focusOnSelect: true
    });

    $("body").css({ "overflow": "hidden"});
    $('.overlay, #modal-info').fadeIn();
    $('#modal-info > #close-modal-info').fadeIn(); 
  }


  /*smooth scroll */
  if (window.matchMedia("(max-width: 565px)").matches) {
    $("a[href^='#']").click(function () {
      var _href = $(this).attr("href");
      $("html, body").animate({
        scrollTop: $(_href).offset().top - 180 + "px",
      });
      return false;
    });
  } else {
    $("a[href^='#']").click(function () {
      var _href = $(this).attr("href");
      $("html, body").animate({ scrollTop: $(_href).offset().top - 80 + "px" });
      return false;
    });
  }

  
  // Random buyer
  const NamesWomen = [
    "Татьяна",
    "Елена",
    "Ольга",
    "Наталья",
    "Валентина",
    "Мария",
    "Галина",
    "Анна",
    "Анна Кудряшова",
    "Светлана",
    "Людмила",
    "Нина",
    "Екатерина",
    "Надежда",
    "Марина",
    "Юлия",
    "Любовь",
    "Любовь",
    "Лидия Фролова",
    "Александра",
    "Вера",
    "Анастасия",
    "Тамара",
    "Лариса",
    "Наталия",
    "Зинаида",
    "Оксана",
    "Оксана Цветкова",
    "Валерия",
    "Полина",
    "Алена",
    "Алина",
  ];

  const NamesMans = [
    "Александр",
    "Алексей",
    "Анатолий",
    "Андрей",
    "Андрей Пономарёв",
    "Антон",
    "Богдан",
    "Вадим",
    "Виталий",
    "Геннадий",
    "Вячеслав",
    "Георгий",
    "Глеб",
    "Давид",
    "Денис",
    "Илья",
    "Константин",
    "Леонид",
    "Сергей",
    "Олег",
    "Никита",
    "Назар",
    "Павел",
    "Петр",
    "Тимур",
    "Роберт",
    "Юрий",
    "Эдуард",
    "Эдуард Зыков",
    "Роман",
    "Руслан",
  ];

  const ProductsForWomen = [
    {
      name: "Летающую фею",
      link: "fairy.shopping-market.space",
    },
    {
      name: "Машинка трансформер на радиоуправлении",
      link: "kids-toys.shopping-market.space",
    },
    {
      name: "Набор для рисования светом",
      link: "svet.shopping-market.space",
    },
    {
      name: "Светящееся машинки с трассой",
      link: "magic-tracks.shopping-market.space",
    },
    /* {
      name: "щётку для удаления катышек clothes shaver",
      link: "clothes-shaver.shopping-market.space",
    },
    {
      name: "Силиконовые увлажняющие носочки против трения стопы",
      link: "sani-sticks.shopping-market.space",
    },
    {
      name: "универсальные палочки от засоров sani-sticks",
      link: "sani-sticks.shopping-market.space",
    },
    {
      name: "Чистящее средство для вашей стиральной машинки!",
      link: "magic-wash.shopping-market.space",
    }, */
  ];

  const ProductsForMen = [
    {
      name: "Летающую фею",
      link: "fairy.shopping-market.space",
    },
    {
      name: "Машинка трансформер на радиоуправлении",
      link: "kids-toys.shopping-market.space",
    },
    {
      name: "Набор для рисования светом",
      link: "svet.shopping-market.space",
    },
    {
      name: "Cкребок для автомобиля",
      link: "ice-scrapper.shopping-market.space",
    },
    {
      name: "Светящееся машинки с трассой",
      link: "magic-tracks.shopping-market.space",
    },
    /* {
      name: "щётку для удаления катышек clothes shaver",
      link: "clothes-shaver.shopping-market.space",
    },
    {
      name: "универсальные палочки от засоров sani-sticks",
      link: "sani-sticks.shopping-market.space",
    },
    {
      name: "Чистящее средство для вашей стиральной машинки!",
      link: "magic-wash.shopping-market.space",
    }, */
  ];

  function operationWithItem(sex, arrayOfNames, arrayProducts) {
    const date = new Date();
    const Product =
      arrayProducts[Math.floor(Math.random() * arrayProducts.length)];

    $(`${sex} .buyer__wrapper__content__name`).text(
      `Имя: ${arrayOfNames[Math.floor(Math.random() * arrayOfNames.length)]}`
    );
    $(`${sex} .buyer__wrapper__content__text`).html(
      `Заказал(а) <a class="link" target="_blank" href="https://${Product.link}">${Product.name}</a>`
    );
    $(`${sex} .buyer__wrapper__content__time`).text(
      `Время: ${date.getHours()}:${
        date.getMinutes() <= 9 ? "0" + date.getMinutes() : date.getMinutes()
      }`
    );
    $(`${sex} .buyer__wrapper__content__date`).text(
      `Дата: ${date.getDate()}.${date.getMonth() + 1}.${date.getFullYear()}`
    );
    $(`${sex}`).fadeIn("slow");
    setTimeout(() => {
      $(`${sex}`).fadeOut("slow");
    }, 7000);
  }

  function fadeItem() {
    const ManOrWomen = Math.random().toFixed(2);

    if (ManOrWomen >= 0.18) {
      return operationWithItem(".buyer", NamesWomen, ProductsForWomen);
    } else {
      return operationWithItem(".buyer", NamesMans, ProductsForMen);
    }
  }

  // Время через сколько высветится впервые
  let delay = Math.round(Math.random() * 5 + 5) * 1000;
  // let delay = 500;
  function runBuyers() {
    fadeItem();

    // Время через сколько высветится следующая
    delay = Math.round(Math.random() * 60 + 30) * 1000;
    setTimeout(() => {
      runBuyers();
    }, delay);
  }

  setTimeout(() => {
    runBuyers();
  }, delay);

  // Buyers close
  $(".buyer__wrapper__close").on("click", function () {
    $(".buyer").fadeOut("slow");
  });

  // Filter
  $("[data-filter]").on("click", function (event) {
    event.preventDefault();

    let cat = $(this).data("filter");

    function filersForEach(el) {
      return $(el).each(function () {
        cat == $(this).data("filter")
          ? $(this).addClass("active")
          : $(this).removeClass("active");
      });
    }

    filersForEach(".footer__content__catalog > a");
    filersForEach(".catigories__slider > .slick-list > .slick-track > a");

    if (cat == "Все-товары") {
      $(".catalog__items > [data-category]").css({ display: "inline-block" });
      $(".no-products").css({ display: "none" });
    } else {
      $(".catalog__items > [data-category]").each(function () {
        let workCat = $(this).data("category");

        if (workCat == cat) {
          $(this).data(["category"]).css({ display: "inline-block" });
          $(".no-products").css({ display: "none" });
        } else {
          $(this).data(["category"]).css({ display: "none" });

          let countUnVisableblock = 0;
          $(".catalog__items > .catalog__items__item").each(function () {
            if (
              $(this).css("display") == "none" ||
              $(this).css("visibility") == "hidden"
            ) {
              countUnVisableblock++;
            }
          });

          if (countUnVisableblock == $(".catalog__items > .catalog__items__item").length) {
            $(".no-products").css({ display: "flex" });
          } else {
            $(".no-products").css({ display: "none" });
          }
        }
      });
    }
  });

  // burger
  function toogleBurger(id) {
    const btn = document.querySelector(".header-btn");
    const nav = document.querySelector(".burger-nav");

    document.getElementById(id).addEventListener("click", function () {
      btn.classList.toggle("open");
      nav.classList.toggle("open");
    });
  }
  toogleBurger("header-btn");
  toogleBurger("nav-link-1");
  toogleBurger("nav-link-2");
  toogleBurger("nav-link-3");

  // SendMessage Consultation
  $("#order-form").submit(function (e) {
    e.preventDefault();
    if (
      $("#phone-consult-field").val().length >= 10 &&
      $("#name-consult-field").val().length > 0 &&
      $("#question-consult-field").val().length > 0
    ) {
      $.ajax({
        type: "POST",
        url: "php/telegram.php",
        data: $(this).serialize(),
      }).done(function () {
        //  очищение формы
        $(this).find("input").val("");
        $("#form").fadeOut("slow");
        $("#thanks").fadeIn("slow");
        $("form").trigger("reset");
      });
      return false;
    } else {
      $(".error.name").css({ display: "none" });
      $(".error.phone").css({ display: "none" });
      $(".error.question").css({ display: "none" });

      if (
        $("input[name=phone]").val().length < 10 &&
        $("input[name=name]").val().length == 0 &&
        $("textarea[name=question]").val().length == 0
      ) {
        // все
        $(".error.name").css({ display: "block" });
        $(".error.phone").css({ display: "block" });
        $(".error.question").css({ display: "block" });
      } else if (
        $("input[name=phone]").val().length < 10 &&
        $("input[name=name]").val().length > 0 &&
        $("textarea[name=question]").val().length > 0
      ) {
        // телефон
        $(".error.phone").css({ display: "block" });
      } else if (
        $("input[name=phone]").val().length >= 10 &&
        $("input[name=name]").val().length == 0 &&
        $("textarea[name=question]").val().length > 0
      ) {
        // имя
        $(".error.name").css({ display: "block" });
      } else if (
        $("input[name=phone]").val().length >= 10 &&
        $("input[name=name]").val().length > 0 &&
        $("textarea[name=question]").val().length == 0
      ) {
        // вопрос
        $(".error.question").css({ display: "block" });
      } else if (
        $("input[name=phone]").val().length >= 10 &&
        $("input[name=name]").val().length == 0 &&
        $("textarea[name=question]").val().length == 0
      ) {
        // вопрос и имя
        $(".error.name").css({ display: "block" });
        $(".error.question").css({ display: "block" });
      } else if (
        $("input[name=phone]").val().length < 10 &&
        $("input[name=name]").val().length == 0 &&
        $("textarea[name=question]").val().length > 0
      ) {
        // телефон и имя
        $(".error.name").css({ display: "block" });
        $(".error.phone").css({ display: "block" });
      } else if (
        $("input[name=phone]").val().length < 10 &&
        $("input[name=name]").val().length > 0 &&
        $("textarea[name=question]").val().length == 0
      ) {
        // телефон и вопрос
        $(".error.phone").css({ display: "block" });
        $(".error.question").css({ display: "block" });
      }
    }
  });


  // modal callBack
  document.getElementById("callBack").addEventListener("click", () => {
    $(".overlay, #form").fadeIn("slow");
    $("body").css({ overflow: "hidden" });
  });

  // Modals close
  $("#close-form").on("click", function () {
    $("body").css({ overflow: "auto", "overflow-x": "hidden" });
    $(".overlay, #form").fadeOut("slow");
    location.hash = "";
  });

  $("#close-adress-form").on("click", function () {
    $("body").css({ overflow: "auto", "overflow-x": "hidden" });
    $(".overlay, #modal-adress-forms").fadeOut("slow");
    location.hash = "";
  });

  $("#close-thanks").on("click", function () {
    $("body").css({ overflow: "auto", "overflow-x": "hidden" });
    $(".overlay, #thanks").fadeOut("slow");
    location.hash = "";
  });

  $("#close-cart").on("click", function () {
    $("body").css({ overflow: "auto", "overflow-x": "hidden" });
    $(".overlay, #cart").fadeOut("slow");
    location.hash = "";
  });

  // отслеживание скрола
  window.addEventListener('scroll', function() {
    let pageYOffset = window.pageYOffset;
    window.localStorage.setItem('scroll', pageYOffset);
  });

  $("#close-modal-info").on("click", function () {
    $("body").css({ overflow: "auto", "overflow-x": "hidden" });
    $(".overlay, #modal-info").fadeOut("slow");

    location.hash = "";

    let getScroll = window.localStorage.getItem('scroll');
    window.scroll(0, getScroll);
  });
  

  // Если нажать ESC закроется модальное окно
  $(document).keyup(function (e) {
    if (e.key === "Escape") {
      $("body").css({ overflow: "auto", "overflow-x": "hidden" });
      $(".overlay, #thanks").fadeOut("slow");
      $(".overlay, #modal-adress-forms").fadeOut("slow");
      $(".overlay, #form").fadeOut("slow");
      $(".overlay, #cart").fadeOut("slow");
      $(".overlay, #modal-info").fadeOut("slow");
    }

    location.hash = "";
  });


  // Переобразуем массив "cart" (который в верху) в Ассоциативный массив
  function cartAssArrFunction() {
    let cartAssArr = {};
    cart.forEach(function (e) {
      cartAssArr[e.dataId] = e;
    });


    let commonPrice = 0;
    cart.forEach(e => commonPrice = commonPrice + e.totalPrice);

    let stringCartForInput = '';
    for (let i = 0; i < cart.length; i++) {
      stringCartForInput =  stringCartForInput + '     ' + cart[i].namedProduct + ' - ' + cart[i].count + ' шт.  (' + cart[i].totalPrice + ' UAH)%0A';
      // где %0A - перенос строки в телеграмме
    };

    stringCartForInput  =  stringCartForInput + '<b>Общая сумма:</b> ' + commonPrice + ' UAH';
    
    let outCart = '';
    if(cart.length == 0) {
      $('.modal-cart__items__cart-empty').css({ "display": "flex" });
      $('.modal-cart__items__to-order-form').css({ "display": "none" });
      $('.modal-cart__items__total-price').css({ "display": "none" });
    } else {
      $('.modal-cart__items__cart-empty').css({ "display": "none" });
      $('.modal-cart__items__total-price').css({ "display": "block" });
      $('.modal-cart__items__to-order-form').css({ "display": "block" });
      for(let key in cartAssArr) {
        outCart += `<div class="modal-cart__items__products__product"><div class="modal-cart__items__products__product__img-and-title">`;
        outCart += `<img class="modal-cart__items__products__product__img-and-title__img" src=${cartAssArr[key].imgJpgPrew} alt="img">`;
        outCart += `<div class="modal-cart__items__products__product__img-and-title__title">${cartAssArr[key].title}</div></div>`;
        outCart += `<div class="modal-cart__items__products__product__counts-and-price">`;
        outCart += `<button class="modal-cart__items__products__product__counts-and-price__delete" data-delete=${cartAssArr[key].dataId}><img src="icons/garbage-can.svg" alt="img" data-delete=${cartAssArr[key].dataId}></button>`;
        
        outCart += `<div class="modal-cart__items__products__product__counts-and-price__counts">`;
        outCart += `<button class="modal-cart__items__products__product__counts-and-price__counts__button minus" data-counts=${cartAssArr[key].dataId}><img class="minus" src="icons/minus.svg" alt="img" data-counts=${cartAssArr[key].dataId}></button>`;
        outCart += `<div class="modal-cart__items__products__product__counts-and-price__counts__input">${cartAssArr[key].count}</div>`;
        outCart += `<button class="modal-cart__items__products__product__counts-and-price__counts__button plus" data-counts=${cartAssArr[key].dataId}><img class="plus" src="icons/add.svg" alt="img" data-counts=${cartAssArr[key].dataId}></button></div>`;
        outCart += `<div class="modal-cart__items__products__product__counts-and-price__price">${cartAssArr[key].totalPrice} &#8372;</div></div></div>`;
      }
    }



    $('#products').val(stringCartForInput);
    
    $('#products-counts-in-cart, #products-counts-in-cart-mobile').text(cart.length);

    // меняем содержимое для div в корзине
    document.getElementById('cart-products').innerHTML = outCart;
    return;
  }
  cartAssArrFunction();

  const totalModalPrice = () => {
    let totalPrice = 0;
    cart.forEach(e => totalPrice = totalPrice + (e.count * e.price));

    $("#total-price").text(totalPrice);
  };

  $("#nav-cart, #nav-cart-mobile").click(function() {
    $("body").css({ overflow: "hidden" });
    $(".overlay, #cart").fadeIn("slow");

    let totalPrice = 0;
    cart.forEach(e => totalPrice = totalPrice + (e.count * e.price));

    $("#total-price").text(totalPrice);
  });

  $("#to-form-window").click(function() {
    $("#cart").fadeOut();
    $("#modal-adress-forms").fadeIn();
  });

  document.onclick = (el) => {
    if (el.target.hasAttribute("data-id")) {
      if (
        cart.findIndex((e) => String(e.dataId) == String(el.target.dataset.id)) == -1 
      ) {
        
        // Добавление в карзину
        cart.push(catalog.find((e) => e.dataId == el.target.dataset.id));

        $(`[data-id="${el.target.dataset.id}"] img`).attr(
          "src",
          "icons/shopping-cart-added.svg"
        );
        $(
          `.catalog__items__item__content__cart__text[data-id="${el.target.dataset.id}"], .modal-info__btn__text[data-id="${el.target.dataset.id}"]`
        ).text("Удалить с корзины");
        cartAssArrFunction();   

        return true;
      } else if (
        cart.findIndex((e) => String(e.dataId) == String(el.target.dataset.id)) > -1 
      ) {
        // Удаление с корзины
        const findIndexInChooseItems = cart.findIndex(
          (e) => e.dataId == el.target.dataset.id
        );
        cart = [
          ...cart.slice(0, findIndexInChooseItems),
          ...cart.slice(findIndexInChooseItems + 1),
        ];

        $(`[data-id="${el.target.dataset.id}"] img`).attr(
          "src",
          "icons/shopping-cart.svg"
        );
        $(
          `.catalog__items__item__content__cart__text[data-id="${el.target.dataset.id}"], .modal-info__btn__text[data-id="${el.target.dataset.id}"]`
        ).text("Добавить в корзину");
        cartAssArrFunction();

        return true;
      } else {
        return false;
      }
    } else if (el.target.classList.contains('plus')) {
      const findIndexInChooseItems = cart.findIndex( item => item.dataId === el.target.dataset.counts);
      if (findIndexInChooseItems >= 0) {
          
          let Elem = cart[findIndexInChooseItems];
          let newElem = {
              ...Elem,
              count: ++Elem.count,
              totalPrice: Elem.price * Elem.count
          }

          cart = [
            ...cart.slice(0, findIndexInChooseItems),
            newElem,
            ...cart.slice(findIndexInChooseItems + 1),
          ];


          totalModalPrice();
          cartAssArrFunction();
      };
    } else if (el.target.classList.contains('minus')) {
      const findIndexInChooseItems = cart.findIndex( item => item.dataId === el.target.dataset.counts);
      if (findIndexInChooseItems >= 0) {
          
          let Elem = cart[findIndexInChooseItems];

          if (Elem.count > 0) {
            let newElem = {
              ...Elem,
              count: --Elem.count,
              totalPrice: Elem.price * Elem.count,
            };

            cart = [
              ...cart.slice(0, findIndexInChooseItems),
              newElem,
              ...cart.slice(findIndexInChooseItems + 1),
            ];

            totalModalPrice();
            cartAssArrFunction();
          }
        }
    } else if (el.target.hasAttribute("data-delete")) {
      const findIndexInItemsCard = cart.findIndex( item => item.dataId == el.target.dataset.delete);
      cart = [
        ...cart.slice(0, findIndexInItemsCard),
        ...cart.slice(findIndexInItemsCard + 1)
      ];
      $(`[data-id="${el.target.dataset.delete}"] img`).attr(
        "src",
        "icons/shopping-cart.svg"
      );
      $(
        `.catalog__items__item__content__cart__text[data-id="${el.target.dataset.delete}"]`
      ).text("Добавить в корзину");
      totalModalPrice();
    } else if(el.target.hasAttribute("data-idDescr")){
      // Клик по товару
      
      // window.location.href = `product/id=${el.target.dataset.iddescr}`;

      // Проверка по какому id кликнули
      // console.log(el.target.dataset.iddescr); 
      

      const findelFromCatalog = catalog.find( element => element.dataId === el.target.dataset.iddescr);

      location.hash = "product/title=" + findelFromCatalog.id;
      
      let infoProductSliderPhotos = '';

      for (let i = 0; i < findelFromCatalog.photos.length; i++) {
        infoProductSliderPhotos +=  `<div><img src="img/${findelFromCatalog.photos[i]}" alt="img"></div>`;
      };

      document.getElementById("modal-info__content").innerHTML = `<div class="modal-info__descr-main">
        <div class="modal-info__descr-main__images-slider">
          <div class="info-product-slider-for">
            ${infoProductSliderPhotos}
          </div>
          <div class="info-product-slider-nav">
            ${infoProductSliderPhotos}
          </div>
        </div>
        <div class="modal-info__descr-main__descr">
          <div class="modal-info__descr-main__descr__title">${findelFromCatalog.title}</div>
          <div class="modal-info__descr-main__descr__old-price">Цена без скидки: <span>${Math.round((findelFromCatalog.price * 100) / findelFromCatalog.discountValue)} грн.</span></div>
          <div class="modal-info__descr-main__descr__new-price">Цена со скидкой: <span>${findelFromCatalog.price} грн.</span></div>
          ${findelFromCatalog.link ? `<div class="modal-info__descr-main__descr__website">Сайт с подробной информацией: <a href="${findelFromCatalog.link}" target="_blank">${findelFromCatalog.link}</a></div>` : ''}
          <div class="modal-info__descr-main__descr__descr"><u>Описание:</u> ${findelFromCatalog.descr}</div>

          <button class="modal-info__btn" data-id=${findelFromCatalog.dataId}>
            <img id="add-to-cart" src="${cart.findIndex(e => findelFromCatalog.dataId === e.dataId) > -1 ? "icons/shopping-cart-added.svg" : "icons/shopping-cart.svg"}" alt="img" data-id=${findelFromCatalog.dataId}>
            <p class="modal-info__btn__text" data-id=${findelFromCatalog.dataId}>${cart.findIndex(e => findelFromCatalog.dataId === e.dataId) > -1 ? 'Удалить с корзины' : 'Добавить в корзину'}</p>
          </button>
        </div>
      </div>`;



      // slider for info about product
      $('.info-product-slider-for').slick({
        slidesToShow: 1,
        slidesToScroll: 1,
        arrows: false,
        fade: true,
        asNavFor: '.info-product-slider-nav'
      });
      $('.info-product-slider-nav').slick({
        slidesToShow: 3,
        slidesToScroll: 1,
        asNavFor: '.info-product-slider-for',
        arrows: false,
        dots: false,
        centerMode: true,
        focusOnSelect: true
      });

      $("body").css({ "overflow": "hidden"});
      $('.overlay, #modal-info').fadeIn();
      $('#modal-info > #close-modal-info').fadeIn();  
    }

    cartAssArrFunction();
  };
  
  // SendMessage Order
  $("#adress-form").submit(function (e) {
    e.preventDefault();
    if (
      $("input[name=phone]").val().length >= 10 &&
      $("input[name=name]").val().length > 0
    ) {
      $.ajax({
        type: "POST",
        url: "php/request-cart.php",
        data: $(this).serialize(),
      }).done(function () {
        $(".error.name").css({ display: "none" });
        $(".error.phone").css({ display: "none" });

        //  очищение формы
        $(this).find("input").val("");
        $("#modal-adress-forms").fadeOut("slow");
        $("#thanks").fadeIn("slow");
        $("form").trigger("reset");

        // чистим коризну и и обновляем картинку на пустую корзину и текст под каждім товаром
        cart = [];
        $('.catalog__items__item__content__cart > img').attr("src", "icons/shopping-cart.svg");
        $('.catalog__items__item__content__cart > .catalog__items__item__content__cart__text').text('Добавить в корзину'); 
        cartAssArrFunction();
      });
      return false;
    } {
      $(".error.name").css({ display: "none" });
      $(".error.phone").css({ display: "none" });

      if (
        $("input[name=phone]").val().length < 10 &&
        $("input[name=name]").val().length == 0
      ) {
        // все
        $(".error.name").css({ display: "block" });
        $(".error.phone").css({ display: "block" });
      } else if (
        $("input[name=phone]").val().length < 10 &&
        $("input[name=name]").val().length > 0
      ) {
        // телефон
        $(".error.phone").css({ display: "block" });
      } else if (
        $("input[name=phone]").val().length >= 10 &&
        $("input[name=name]").val().length == 0
      ) {
        // имя
        $(".error.name").css({ display: "block" });
      }; 
    }
  });

  // slider of catigories
  $(".catigories__slider").slick({
    pauseOnHover: true,
    autoplay: true,
    autoplaySpeed: 1250,
    slidesToShow: 4,
    adaptiveHeight: false,
    initialSlide: 4,
    dots: false,
    prevArrow:
      '<button type="button" class="slick-prev"><img src="icons/arrow-slider.svg"></button>',
    nextArrow:
      '<button type="button" class="slick-next"><img src="icons/arrow-slider.svg"></button>',
    responsive: [
      {
        breakpoint: 767,
        settings: {
          slidesToShow: 4,
          arrows: false,
        },
      },
      {
        breakpoint: 565,
        settings: {
          slidesToShow: 4,
          arrows: false,
        },
      },
    ],
  });

  // slider of intro
  $(".intro__slider").slick({
    pauseOnHover: true,
    autoplay: true,
    autoplaySpeed: 3000,
    slidesToShow: 1,
    adaptiveHeight: false,
    arrows: false,
    dots: true,
    prevArrow:
      '<button type="button" class="slick-prev"><img src="icons/arrow-slider.svg"></button>',
    nextArrow:
      '<button type="button" class="slick-next"><img src="icons/arrow-slider.svg"></button>',
  });


  // slider of bestsellers
  $(".bestsellers__slider").slick({
    pauseOnHover: true,
    autoplay: true,
    autoplaySpeed: 2500,
    slidesToShow: 3,
    adaptiveHeight: false,
    arrows: true,
    dots: false,
    prevArrow:
      '<button type="button" class="slick-prev"><img src="icons/arrow-slider.svg"></button>',
    nextArrow:
      '<button type="button" class="slick-next"><img src="icons/arrow-slider.svg"></button>',
    responsive: [
      {
        breakpoint: 767,
        settings: {
          slidesToShow: 2,
          arrows: false,
          dots: true,
        },
      },
    ],
  });
});

